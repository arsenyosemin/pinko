{% macro post_item(post) -%}
<div class="post-item">
    <div class="post-item--image">
        <img src="{{ post.image.path }}" style="transform:rotate({{range(-6, 0)|random}}deg);" />
    </div>
    <div class="post-item--body">
        {% if post.print_only %}
            <div class="print-only">Print Only</div>
            {% set url = post.issue.store_url %}
        {% else %}
            {% set url = url_for('pinko.post', issue=post.issue.slug, slug=post.slug) %}
        {% endif %}
        <h1><a href="{{ url }}">{{ post.title }}</a></h1>
        <div class="post-item--meta">
            <span>{{ post.published_at.strftime('%B %-d, %Y') }}</span> &bull;
            <span>Issue {{ post.issue.id }}</span> &bull;
            <span>{{ post.issue.name }}</span>
        </div>
        <p>{{ post.desc }}</p>
        <div class="post-item--authors">by {{ post.authors|join(', ', 'name') }}</div>
    </div>
</div>
{%- endmacro %}

{% macro issue_item(name, url, color, cover_url) -%}
    <div class="issue-item">
        <a href="{{ url }}">
            <div class="issue-item--cover" style="{% if cover_url %}background-image:url({{cover_url}});{% else %}background:{{color}};{% endif %}">
                {% if not cover_url %}
                    <h1>{{ name }}</h1>
                {% endif %}
            </div>
        </a>
    </div>
{%- endmacro %}
